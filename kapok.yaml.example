# Kapok Configuration Example
#
# This file shows all available configuration options with their defaults.
# Copy this to kapok.yaml and customize for your environment.
#
# IMPORTANT: Never commit secrets (passwords, tokens) to this file!
#           Use environment variables for all sensitive data.
#
# Precedence (highest to lowest):
#   1. CLI flags
#   2. Environment variables (KAPOK_*)
#   3. Config file (./kapok.yaml, ~/.kapok/config.yaml, /etc/kapok/config.yaml)
#   4. Defaults (shown below)

# HTTP Server Configuration
server:
  host: "0.0.0.0"  # Listen on all network interfaces (use "127.0.0.1" for localhost only)
  port: 8080       # HTTP server port

# PostgreSQL Database Configuration
database:
  host: "localhost"     # Database server hostname
  port: 5432            # PostgreSQL port
  user: "kapok"         # Database username
  # password: ""        # ⚠️ NEVER SET HERE! Use KAPOK_DATABASE_PASSWORD environment variable
  database: "kapok"     # Database name
  ssl_mode: "disable"   # SSL mode: disable, require, verify-ca, verify-full
  pool_size: 20         # Connection pool size

# Redis Configuration
redis:
  host: "localhost"  # Redis server hostname
  port: 6379         # Redis port
  # password: ""     # ⚠️ NEVER SET HERE! Use KAPOK_REDIS_PASSWORD environment variable
  db: 0              # Redis database number (0-15)

# Kubernetes Configuration
kubernetes:
  context: ""        # Kubernetes context name (empty = use current context)
  namespace: "kapok" # Kubernetes namespace for deployments

# Logging Configuration
log:
  level: "info"    # Log level: debug, info, warn, error
  format: "json"   # Log format: json (production), console (development)

# JWT Authentication Configuration
jwt:
  # secret: ""                     # ⚠️ NEVER SET HERE! Use KAPOK_JWT_SECRET environment variable (min 32 chars)
  access_token_ttl: "15m"          # Access token lifetime (e.g., "15m", "1h")
  refresh_token_ttl: "168h"        # Refresh token lifetime (e.g., "168h" = 7 days)
  signing_algorithm: "HS256"       # JWT signing algorithm

# Environment Variable Examples:
#
# export KAPOK_DATABASE_PASSWORD="your-secure-db-password"
# export KAPOK_JWT_SECRET="your-secure-jwt-secret-at-least-32-characters-long"
# export KAPOK_REDIS_PASSWORD="your-redis-password"
# export KAPOK_SERVER_PORT="9090"
# export KAPOK_LOG_LEVEL="debug"
#
# Note: Environment variable names use KAPOK_ prefix and uppercase with underscores
#       e.g., database.host becomes KAPOK_DATABASE_HOST
